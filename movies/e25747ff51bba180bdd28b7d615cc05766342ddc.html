<!DOCTYPE html>
<html class="staticrypt-html">
    <head>
        <meta charset="utf-8" />
        <title>Protected Page</title>
        <meta name="viewport" content="width=device-width, initial-scale=1" />

        <!-- do not cache this page -->
        <meta http-equiv="cache-control" content="max-age=0" />
        <meta http-equiv="cache-control" content="no-cache" />
        <meta http-equiv="expires" content="0" />
        <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
        <meta http-equiv="pragma" content="no-cache" />

        <style>
            .staticrypt-hr {
                margin-top: 20px;
                margin-bottom: 20px;
                border: 0;
                border-top: 1px solid #eee;
            }

            .staticrypt-page {
                width: 360px;
                padding: 8% 0 0;
                margin: auto;
                box-sizing: border-box;
            }

            .staticrypt-form {
                position: relative;
                z-index: 1;
                background: #ffffff;
                max-width: 360px;
                margin: 0 auto 100px;
                padding: 45px;
                text-align: center;
                box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.2), 0 5px 5px 0 rgba(0, 0, 0, 0.24);
            }

            .staticrypt-form input[type="password"],
            input[type="text"] {
                background: inherit;
                border: 0;
                box-sizing: border-box; /* This ensures padding is included in the total width */
                font-size: 14px;
                outline: 0;
                padding: 15px 30px 15px 15px; /* Adjust the padding to ensure there is space for the icon */
                width: 100%;
            }

            .staticrypt-password-container {
                position: relative;
                outline: 0;
                background: #f2f2f2;
                width: 100%;
                border: 0;
                margin: 0 0 15px;
                box-sizing: border-box;
            }

            .staticrypt-toggle-password-visibility {
                cursor: pointer;
                height: 20px;
                opacity: 60%;
                padding: 13px;
                position: absolute;
                right: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 20px;
            }

            .staticrypt-form .staticrypt-decrypt-button {
                text-transform: uppercase;
                outline: 0;
                background: #4CAF50;
                width: 100%;
                border: 0;
                padding: 15px;
                color: #ffffff;
                font-size: 14px;
                cursor: pointer;
            }

            .staticrypt-form .staticrypt-decrypt-button:hover,
            .staticrypt-form .staticrypt-decrypt-button:active,
            .staticrypt-form .staticrypt-decrypt-button:focus {
                background: #4CAF50;
                filter: brightness(92%);
            }

            .staticrypt-html {
                height: 100%;
            }

            .staticrypt-body {
                height: 100%;
                margin: 0;
            }

            .staticrypt-content {
                height: 100%;
                margin-bottom: 1em;
                background: #76B852;
                font-family: "Arial", sans-serif;
                -webkit-font-smoothing: antialiased;
                -moz-osx-font-smoothing: grayscale;
            }

            .staticrypt-instructions {
                margin-top: -1em;
                margin-bottom: 1em;
            }

            .staticrypt-title {
                font-size: 1.5em;
            }

            label.staticrypt-remember {
                display: flex;
                align-items: center;
                margin-bottom: 1em;
            }

            .staticrypt-remember input[type="checkbox"] {
                transform: scale(1.5);
                margin-right: 1em;
            }

            .hidden {
                display: none !important;
            }

            .staticrypt-spinner-container {
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
            }

            .staticrypt-spinner {
                display: inline-block;
                width: 2rem;
                height: 2rem;
                vertical-align: text-bottom;
                border: 0.25em solid gray;
                border-right-color: transparent;
                border-radius: 50%;
                -webkit-animation: spinner-border 0.75s linear infinite;
                animation: spinner-border 0.75s linear infinite;
                animation-duration: 0.75s;
                animation-timing-function: linear;
                animation-delay: 0s;
                animation-iteration-count: infinite;
                animation-direction: normal;
                animation-fill-mode: none;
                animation-play-state: running;
                animation-name: spinner-border;
            }

            @keyframes spinner-border {
                100% {
                    transform: rotate(360deg);
                }
            }
        </style>
    </head>

    <body class="staticrypt-body">
        <div id="staticrypt_loading" class="staticrypt-spinner-container">
            <div class="staticrypt-spinner"></div>
        </div>

        <div id="staticrypt_content" class="staticrypt-content hidden">
            <div class="staticrypt-page">
                <div class="staticrypt-form">
                    <div class="staticrypt-instructions">
                        <p class="staticrypt-title">Protected Page</p>
                        <p></p>
                    </div>

                    <hr class="staticrypt-hr" />

                    <form id="staticrypt-form" action="#" method="post">
                        <div class="staticrypt-password-container">
                            <input
                                id="staticrypt-password"
                                type="password"
                                name="password"
                                placeholder="Password"
                                autofocus
                            />

                            <img
                                class="staticrypt-toggle-password-visibility"
                                alt="Show password"
                                title="Show password"
                                src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg=="
                            />
                        </div>

                        <label id="staticrypt-remember-label" class="staticrypt-remember hidden">
                            <input id="staticrypt-remember" type="checkbox" name="remember" />
                            Remember me
                        </label>

                        <input type="submit" class="staticrypt-decrypt-button" value="DECRYPT" />
                    </form>
                </div>
            </div>
        </div>

        <script>
            // these variables will be filled when generating the file - the template format is 'variable_name'
            const staticryptInitiator = ((function(){
  const exports = {};
  const cryptoEngine = ((function(){
  const exports = {};
  const { subtle } = crypto;

const IV_BITS = 16 * 8;
const HEX_BITS = 4;
const ENCRYPTION_ALGO = "AES-CBC";

/**
 * Translates between utf8 encoded hexadecimal strings
 * and Uint8Array bytes.
 */
const HexEncoder = {
    /**
     * hex string -> bytes
     * @param {string} hexString
     * @returns {Uint8Array}
     */
    parse: function (hexString) {
        if (hexString.length % 2 !== 0) throw "Invalid hexString";
        const arrayBuffer = new Uint8Array(hexString.length / 2);

        for (let i = 0; i < hexString.length; i += 2) {
            const byteValue = parseInt(hexString.substring(i, i + 2), 16);
            if (isNaN(byteValue)) {
                throw "Invalid hexString";
            }
            arrayBuffer[i / 2] = byteValue;
        }
        return arrayBuffer;
    },

    /**
     * bytes -> hex string
     * @param {Uint8Array} bytes
     * @returns {string}
     */
    stringify: function (bytes) {
        const hexBytes = [];

        for (let i = 0; i < bytes.length; ++i) {
            let byteString = bytes[i].toString(16);
            if (byteString.length < 2) {
                byteString = "0" + byteString;
            }
            hexBytes.push(byteString);
        }
        return hexBytes.join("");
    },
};

/**
 * Translates between utf8 strings and Uint8Array bytes.
 */
const UTF8Encoder = {
    parse: function (str) {
        return new TextEncoder().encode(str);
    },

    stringify: function (bytes) {
        return new TextDecoder().decode(bytes);
    },
};

/**
 * Salt and encrypt a msg with a password.
 */
async function encrypt(msg, hashedPassword) {
    // Must be 16 bytes, unpredictable, and preferably cryptographically random. However, it need not be secret.
    // https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/encrypt#parameters
    const iv = crypto.getRandomValues(new Uint8Array(IV_BITS / 8));

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["encrypt"]);

    const encrypted = await subtle.encrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        UTF8Encoder.parse(msg)
    );

    // iv will be 32 hex characters, we prepend it to the ciphertext for use in decryption
    return HexEncoder.stringify(iv) + HexEncoder.stringify(new Uint8Array(encrypted));
}
exports.encrypt = encrypt;

/**
 * Decrypt a salted msg using a password.
 *
 * @param {string} encryptedMsg
 * @param {string} hashedPassword
 * @returns {Promise<string>}
 */
async function decrypt(encryptedMsg, hashedPassword) {
    const ivLength = IV_BITS / HEX_BITS;
    const iv = HexEncoder.parse(encryptedMsg.substring(0, ivLength));
    const encrypted = encryptedMsg.substring(ivLength);

    const key = await subtle.importKey("raw", HexEncoder.parse(hashedPassword), ENCRYPTION_ALGO, false, ["decrypt"]);

    const outBuffer = await subtle.decrypt(
        {
            name: ENCRYPTION_ALGO,
            iv: iv,
        },
        key,
        HexEncoder.parse(encrypted)
    );

    return UTF8Encoder.stringify(new Uint8Array(outBuffer));
}
exports.decrypt = decrypt;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
async function hashPassword(password, salt) {
    // we hash the password in multiple steps, each adding more iterations. This is because we used to allow less
    // iterations, so for backward compatibility reasons, we need to support going from that to more iterations.
    let hashedPassword = await hashLegacyRound(password, salt);

    hashedPassword = await hashSecondRound(hashedPassword, salt);

    return hashThirdRound(hashedPassword, salt);
}
exports.hashPassword = hashPassword;

/**
 * This hashes the password with 1k iterations. This is a low number, we need this function to support backwards
 * compatibility.
 *
 * @param {string} password
 * @param {string} salt
 * @returns {Promise<string>}
 */
function hashLegacyRound(password, salt) {
    return pbkdf2(password, salt, 1000, "SHA-1");
}
exports.hashLegacyRound = hashLegacyRound;

/**
 * Add a second round of iterations. This is because we used to use 1k, so for backwards compatibility with
 * remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashSecondRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 14000, "SHA-256");
}
exports.hashSecondRound = hashSecondRound;

/**
 * Add a third round of iterations to bring total number to 600k. This is because we used to use 1k, then 15k, so for
 * backwards compatibility with remember-me/autodecrypt links, we need to support going from that to more iterations.
 *
 * @param hashedPassword
 * @param salt
 * @returns {Promise<string>}
 */
function hashThirdRound(hashedPassword, salt) {
    return pbkdf2(hashedPassword, salt, 585000, "SHA-256");
}
exports.hashThirdRound = hashThirdRound;

/**
 * Salt and hash the password so it can be stored in localStorage without opening a password reuse vulnerability.
 *
 * @param {string} password
 * @param {string} salt
 * @param {int} iterations
 * @param {string} hashAlgorithm
 * @returns {Promise<string>}
 */
async function pbkdf2(password, salt, iterations, hashAlgorithm) {
    const key = await subtle.importKey("raw", UTF8Encoder.parse(password), "PBKDF2", false, ["deriveBits"]);

    const keyBytes = await subtle.deriveBits(
        {
            name: "PBKDF2",
            hash: hashAlgorithm,
            iterations,
            salt: UTF8Encoder.parse(salt),
        },
        key,
        256
    );

    return HexEncoder.stringify(new Uint8Array(keyBytes));
}

function generateRandomSalt() {
    const bytes = crypto.getRandomValues(new Uint8Array(128 / 8));

    return HexEncoder.stringify(new Uint8Array(bytes));
}
exports.generateRandomSalt = generateRandomSalt;

async function signMessage(hashedPassword, message) {
    const key = await subtle.importKey(
        "raw",
        HexEncoder.parse(hashedPassword),
        {
            name: "HMAC",
            hash: "SHA-256",
        },
        false,
        ["sign"]
    );
    const signature = await subtle.sign("HMAC", key, UTF8Encoder.parse(message));

    return HexEncoder.stringify(new Uint8Array(signature));
}
exports.signMessage = signMessage;

function getRandomAlphanum() {
    const possibleCharacters = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";

    let byteArray;
    let parsedInt;

    // Keep generating new random bytes until we get a value that falls
    // within a range that can be evenly divided by possibleCharacters.length
    do {
        byteArray = crypto.getRandomValues(new Uint8Array(1));
        // extract the lowest byte to get an int from 0 to 255 (probably unnecessary, since we're only generating 1 byte)
        parsedInt = byteArray[0] & 0xff;
    } while (parsedInt >= 256 - (256 % possibleCharacters.length));

    // Take the modulo of the parsed integer to get a random number between 0 and totalLength - 1
    const randomIndex = parsedInt % possibleCharacters.length;

    return possibleCharacters[randomIndex];
}

/**
 * Generate a random string of a given length.
 *
 * @param {int} length
 * @returns {string}
 */
function generateRandomString(length) {
    let randomString = "";

    for (let i = 0; i < length; i++) {
        randomString += getRandomAlphanum();
    }

    return randomString;
}
exports.generateRandomString = generateRandomString;

  return exports;
})());
const codec = ((function(){
  const exports = {};
  /**
 * Initialize the codec with the provided cryptoEngine - this return functions to encode and decode messages.
 *
 * @param cryptoEngine - the engine to use for encryption / decryption
 */
function init(cryptoEngine) {
    const exports = {};

    /**
     * Top-level function for encoding a message.
     * Includes password hashing, encryption, and signing.
     *
     * @param {string} msg
     * @param {string} password
     * @param {string} salt
     *
     * @returns {string} The encoded text
     */
    async function encode(msg, password, salt) {
        const hashedPassword = await cryptoEngine.hashPassword(password, salt);

        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encode = encode;

    /**
     * Encode using a password that has already been hashed. This is useful to encode multiple messages in a row, that way
     * we don't need to hash the password multiple times.
     *
     * @param {string} msg
     * @param {string} hashedPassword
     *
     * @returns {string} The encoded text
     */
    async function encodeWithHashedPassword(msg, hashedPassword) {
        const encrypted = await cryptoEngine.encrypt(msg, hashedPassword);

        // we use the hashed password in the HMAC because this is effectively what will be used a password (so we can store
        // it in localStorage safely, we don't use the clear text password)
        const hmac = await cryptoEngine.signMessage(hashedPassword, encrypted);

        return hmac + encrypted;
    }
    exports.encodeWithHashedPassword = encodeWithHashedPassword;

    /**
     * Top-level function for decoding a message.
     * Includes signature check and decryption.
     *
     * @param {string} signedMsg
     * @param {string} hashedPassword
     * @param {string} salt
     * @param {int} backwardCompatibleAttempt
     * @param {string} originalPassword
     *
     * @returns {Object} {success: true, decoded: string} | {success: false, message: string}
     */
    async function decode(signedMsg, hashedPassword, salt, backwardCompatibleAttempt = 0, originalPassword = "") {
        const encryptedHMAC = signedMsg.substring(0, 64);
        const encryptedMsg = signedMsg.substring(64);
        const decryptedHMAC = await cryptoEngine.signMessage(hashedPassword, encryptedMsg);

        if (decryptedHMAC !== encryptedHMAC) {
            // we have been raising the number of iterations in the hashing algorithm multiple times, so to support the old
            // remember-me/autodecrypt links we need to try bringing the old hashes up to speed.
            originalPassword = originalPassword || hashedPassword;
            if (backwardCompatibleAttempt === 0) {
                const updatedHashedPassword = await cryptoEngine.hashThirdRound(originalPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }
            if (backwardCompatibleAttempt === 1) {
                let updatedHashedPassword = await cryptoEngine.hashSecondRound(originalPassword, salt);
                updatedHashedPassword = await cryptoEngine.hashThirdRound(updatedHashedPassword, salt);

                return decode(signedMsg, updatedHashedPassword, salt, backwardCompatibleAttempt + 1, originalPassword);
            }

            return { success: false, message: "Signature mismatch" };
        }

        return {
            success: true,
            decoded: await cryptoEngine.decrypt(encryptedMsg, hashedPassword),
        };
    }
    exports.decode = decode;

    return exports;
}
exports.init = init;

  return exports;
})());
const decode = codec.init(cryptoEngine).decode;

/**
 * Initialize the staticrypt module, that exposes functions callbable by the password_template.
 *
 * @param {{
 *  staticryptEncryptedMsgUniqueVariableName: string,
 *  isRememberEnabled: boolean,
 *  rememberDurationInDays: number,
 *  staticryptSaltUniqueVariableName: string,
 * }} staticryptConfig - object of data that is stored on the password_template at encryption time.
 *
 * @param {{
 *  rememberExpirationKey: string,
 *  rememberPassphraseKey: string,
 *  replaceHtmlCallback: function,
 *  clearLocalStorageCallback: function,
 * }} templateConfig - object of data that can be configured by a custom password_template.
 */
function init(staticryptConfig, templateConfig) {
    const exports = {};

    /**
     * Decrypt our encrypted page, replace the whole HTML.
     *
     * @param {string} hashedPassword
     * @returns {Promise<boolean>}
     */
    async function decryptAndReplaceHtml(hashedPassword) {
        const { staticryptEncryptedMsgUniqueVariableName, staticryptSaltUniqueVariableName } = staticryptConfig;
        const { replaceHtmlCallback } = templateConfig;

        const result = await decode(
            staticryptEncryptedMsgUniqueVariableName,
            hashedPassword,
            staticryptSaltUniqueVariableName
        );
        if (!result.success) {
            return false;
        }
        const plainHTML = result.decoded;

        // if the user configured a callback call it, otherwise just replace the whole HTML
        if (typeof replaceHtmlCallback === "function") {
            replaceHtmlCallback(plainHTML);
        } else {
            document.write(plainHTML);
            document.close();
        }

        return true;
    }

    /**
     * Attempt to decrypt the page and replace the whole HTML.
     *
     * @param {string} password
     * @param {boolean} isRememberChecked
     *
     * @returns {Promise<{isSuccessful: boolean, hashedPassword?: string}>} - we return an object, so that if we want to
     *   expose more information in the future we can do it without breaking the password_template
     */
    async function handleDecryptionOfPage(password, isRememberChecked) {
        const { staticryptSaltUniqueVariableName } = staticryptConfig;

        // decrypt and replace the whole page
        const hashedPassword = await cryptoEngine.hashPassword(password, staticryptSaltUniqueVariableName);
        return handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked);
    }
    exports.handleDecryptionOfPage = handleDecryptionOfPage;

    async function handleDecryptionOfPageFromHash(hashedPassword, isRememberChecked) {
        const { isRememberEnabled, rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

        if (!isDecryptionSuccessful) {
            return {
                isSuccessful: false,
                hashedPassword,
            };
        }

        // remember the hashedPassword and set its expiration if necessary
        if (isRememberEnabled && isRememberChecked) {
            window.localStorage.setItem(rememberPassphraseKey, hashedPassword);

            // set the expiration if the duration isn't 0 (meaning no expiration)
            if (rememberDurationInDays > 0) {
                window.localStorage.setItem(
                    rememberExpirationKey,
                    (new Date().getTime() + rememberDurationInDays * 24 * 60 * 60 * 1000).toString()
                );
            }
        }

        return {
            isSuccessful: true,
            hashedPassword,
        };
    }
    exports.handleDecryptionOfPageFromHash = handleDecryptionOfPageFromHash;

    /**
     * Clear localstorage from staticrypt related values
     */
    function clearLocalStorage() {
        const { clearLocalStorageCallback, rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        if (typeof clearLocalStorageCallback === "function") {
            clearLocalStorageCallback();
        } else {
            localStorage.removeItem(rememberPassphraseKey);
            localStorage.removeItem(rememberExpirationKey);
        }
    }

    async function handleDecryptOnLoad() {
        let isSuccessful = await decryptOnLoadFromUrl();

        if (!isSuccessful) {
            isSuccessful = await decryptOnLoadFromRememberMe();
        }

        return { isSuccessful };
    }
    exports.handleDecryptOnLoad = handleDecryptOnLoad;

    /**
     * Clear storage if we are logging out
     *
     * @returns {boolean} - whether we logged out
     */
    function logoutIfNeeded() {
        const logoutKey = "staticrypt_logout";

        // handle logout through query param
        const queryParams = new URLSearchParams(window.location.search);
        if (queryParams.has(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        // handle logout through URL fragment
        const hash = window.location.hash.substring(1);
        if (hash.includes(logoutKey)) {
            clearLocalStorage();
            return true;
        }

        return false;
    }

    /**
     * To be called on load: check if we want to try to decrypt and replace the HTML with the decrypted content, and
     * try to do it if needed.
     *
     * @returns {Promise<boolean>} true if we derypted and replaced the whole page, false otherwise
     */
    async function decryptOnLoadFromRememberMe() {
        const { rememberDurationInDays } = staticryptConfig;
        const { rememberExpirationKey, rememberPassphraseKey } = templateConfig;

        // if we are login out, terminate
        if (logoutIfNeeded()) {
            return false;
        }

        // if there is expiration configured, check if we're not beyond the expiration
        if (rememberDurationInDays && rememberDurationInDays > 0) {
            const expiration = localStorage.getItem(rememberExpirationKey),
                isExpired = expiration && new Date().getTime() > parseInt(expiration);

            if (isExpired) {
                clearLocalStorage();
                return false;
            }
        }

        const hashedPassword = localStorage.getItem(rememberPassphraseKey);

        if (hashedPassword) {
            // try to decrypt
            const isDecryptionSuccessful = await decryptAndReplaceHtml(hashedPassword);

            // if the decryption is unsuccessful the password might be wrong - silently clear the saved data and let
            // the user fill the password form again
            if (!isDecryptionSuccessful) {
                clearLocalStorage();
                return false;
            }

            return true;
        }

        return false;
    }

    async function decryptOnLoadFromUrl() {
        const passwordKey = "staticrypt_pwd";
        const rememberMeKey = "remember_me";

        // try to get the password from the query param (for backward compatibility - we now want to avoid this method,
        // since it sends the hashed password to the server which isn't needed)
        const queryParams = new URLSearchParams(window.location.search);
        const hashedPasswordQuery = queryParams.get(passwordKey);
        const rememberMeQuery = queryParams.get(rememberMeKey);

        const urlFragment = window.location.hash.substring(1);
        // get the password from the url fragment
        const hashedPasswordRegexMatch = urlFragment.match(new RegExp(passwordKey + "=([^&]*)"));
        const hashedPasswordFragment = hashedPasswordRegexMatch ? hashedPasswordRegexMatch[1] : null;
        const rememberMeFragment = urlFragment.includes(rememberMeKey);

        const hashedPassword = hashedPasswordFragment || hashedPasswordQuery;
        const rememberMe = rememberMeFragment || rememberMeQuery;

        if (hashedPassword) {
            return handleDecryptionOfPageFromHash(hashedPassword, rememberMe);
        }

        return false;
    }

    return exports;
}
exports.init = init;

  return exports;
})());
            const templateError = "Bad password!",
                templateToggleAltShow = "Show password",
                templateToggleAltHide = "Hide password",
                isRememberEnabled = true,
                staticryptConfig = {"staticryptEncryptedMsgUniqueVariableName":"cb05b09777bb60a05c026d159c7df5c884713407ccfeeb2f2373810a5a993e88c623574287158dcfec50b0f2ff35811953643b42cd60b9ead36eb3365adce1481a762c98592723f6c1b9455fe9207e0da88a7fe0da51416a4cec04978ae37e673f0962592a770aebbd6e25f018b0fdb0c6e6369fa7511061d6d23c805cbc97c1d1a08c41e59188fadb79cbb40379fdfad80b18e27594cdf193997218b4b3855772058fc8392ba86d2884b80baf32a4580cfc654c8343b146a4f11dd1b1e242d9c9e457bfddf1daeb9d6b534285ff697745c456927f2ed4b64d6074cda1fedd3a58cc67af00d8627c785e4083f43d268e91de5d8eddb6c629fb07f48564fb22c91c85a8363675b4c6d0648334daf5085be3e1405686f5aaa86e880a0317d0cabf976f377878e72dc032852f8ef869e1bae827639c3cd4daec8ae38117a6cae0e8631f89872d52eb195e6bf58e984f3ef8150be9159805ef0c2e40dd20d2d7100611d47c40b1a1fd64e29be680a801c9764618f011c1af129c4c221bbfab6ec3e925b2af22cc93e0f488e21a8f383391c031c9c875c87f724b1ac8b880c47975d7388e18b57ada5fd297c8f6123610bbacf36a8534f1fb8d7bdc0701f806d7a1deedbac7513555a924d528c8e8bc322f0c34dda011057c068ac1e2a0483f18379aa13f24ebc5b7e1461bd5927a275e7498c478c4ab1a3d2008c76c16712bde7d3582e9fc226d31b128ddb82e10295db7c267ae7b9ff7ea4e1545fbf96cb5d02224721f744a1c936d234195365ae5df220358b6f4a733190aaa86e87c21f1e2bb81421360be1d4c9527970c8b033e851fcbf9d73afb6c9ef86aa3037a389d4d7c6b0395cf3ca945307248ef2e54d7ccc5dd76a67400be2c3b75c4b04e96f20657f8da39034d8996323fc160d1117c151eaec064828eb0351cc688672de9daf33dce77c040c98a657adff8e269939aa92cfc936791aea460cc8efbefa8f081711e45a8b1329900b381f56ab92805608b1c6569716a25a9d28e4922de6b5f98a7ee7cbdf695f8192256df9bdc02279aa42220baa86f497b79db915cd2f9b296822cf3cf1ccea6c9505529f7d92633b8ddd7cc343ce9d8ac967dd4f7458326447759dc6fae8329f13d12b63c4a33bc864c1563a7d066b2f3f198d7dbc742170d13d1bbc36529b5c2e86e71dfc6dc8bcfc046403f671088bb9c38677d61508ad517a2b7a2da67da4d2e1a4069669f502dc212ec35d8db9b4fcb9f30f7c5121916365ad6dd0bd50efa12ca0222e4a3f94225d0338b7b0f425fd2e40846a382dacaed607bc243b8f1338a640364f168b36b33f4b517f0e8ba846fe7699fb16c3db5bf3c71033a572a09d3962f729101eb59f08538ea37b5d6b8af4602c6bcd4780c5c72098f3f4c22e63365f5156acdb8c14de26c615255e708a7dc4904fc64ab0d6189db6b83b4327cdc721824864c5944b29abe25fa1725414649b91399ab70afa9a2b755c0780c75c3a7a5471bde8da847e80fa509e9f51d5d75e6bc573d5f185cf0a0bfdba7100b00d045f845a0651f18b84f4adac75c9f7d29fce60da9ec687ad3c7bf40bed4e95751553a480610142ad22eb07ef25035ee090370de819da42ac0e2cd7c0d7f566f1123bc6d08a6c51533ae42fe3b8e4778051574e6a7b17941b15bc0fb18356fd48933c284bfca1fd8e9e4acf0938db7c47d7e28728584f1bfe7a0255398ede3fc2561d371555d35ea5737874681a4f0b96323c61db425bb484d71158094420c41d13015309d653c24de44f7f14e81e96d63d06f7f739e48fdf2232c21d6f0f3d7a9ddc1802558e2174725ff324bef6684e64d5a5b1bd7e0d09e0b062cb31caa846168d47820c9d92293fa5f73745ccb94cce606c77a89faaf04b3e95c1502b49833c9a0e6d3332a4af6c0c8fa1320832eb350ce01959d53d97f4d588882cd3ea298e6e731dedf3460f431202317e6b7d854e55c4be3ca69a81cb4823da2b4f2d59e6fb97e854ddcdd184bab94800a318066184c1b9c193f13acbb275b674fecef80d71c930b15c93c2747319ac4eca17e26220dfc77ac824c1249e72501bbee9bbabea4cb6393f0dc533ecc0f4d26656e8072474ed126e4caaddeec2f70743bf4730628211711f6245c7d650f2eca01ad776848c6a641b81439c3d11076f1e1983056bc0855b9e9bb1a8231cd697d0aa65ec3498fdbb5cf52863429d626686a1888c8cb5d8daa83c743141fec90594b16804cdbff3032c3f4803866fef132b985c1c2e0c373c03238228a5508fed8a8d3406381a63fe73118571515d8d0da496be370e3ebf078e71b8a6e983d6b8d1324701f9ddd8c5cede8eb397597d5d5c899ce80ff3b3a19c2ed1ebee71eee611745b42dd8dcf9eb0ab66e6e7a553be7e444ef13e1efcf18ec3cdaebf073cb8863ac5347c9d681e9021a7e3ae1da48accb80ede18793c7f7d38c13790e5180f7c736651e72d63ecfc0ed68b0ffee63b33bc2ce1fe9bd398851d38ef7950f0074c0a22edc34f99b71753e5064059034fc32133a9570c101c2bb7a3cf180e59a24cbededc5f2bc59bba883a07341acd0f09b22e54ac10830d9cce0b305b0292f88bf607ae441d830e0042a08d5480812b681d107cfd6ab47ad9afbddd9662645f86585b5ecce2f8aadb89c9414aeff17f3d6edcd32defb24ebc2fb3e3cdb8bb3722c6503208a337c265c7b41c721fb51cb6565b243e752b95b6825c9cee0f7f624e4d454abf5962d0bf1b84babfa32310c3ce7342bd209429b100ce92dd1da74d5ab77eac419454f3a1f5bff81c1d96a0c2b6ef8b8d530afad0019297946f32515867e7659a3bb913d4e93906f9a89fb0cd600aff8b357f59c13e0f59463a000ca3fd99975273e79b96c23aab344ce9effd57e8acb3180b8b6229323f28b25e80c6eaceb4ecacbf55efec619306328013c91b966c5dd50c222b9f6e3ebcc56b32e4d4f8c667ffea78b9b322b43893d54d984eafa03534c21a8ea6c317c1ab0beb393b7c2e2d7da27a4c6652144bb329894e1d418d575ed67ca5bafad6f94107b3710b0c4467cfe1600cf81c605e66a4991f94fc65e6978db6260ec056c3d53ccd2c81b70d78c64a397ea209e58bafdf60cbc227effc9bee5c3afe6905d8c7a870d27625a31e1ed4cda52ff22afe4c208038cf244a7d1928213d73c3b9bbb442f4d797d9a4360447073be1f6cf6510957a7d7d9f2df266b1d6c38a7a877e8892ec275484b1ce3e9d5795211045d09f8553ecb30ca5d8cc65b999e53f592c814dff9059ee57fd33d63caec581d797d7fb8eb37c4cd4c308bac8f6274439372d65223b0a7e58be41aab540b27ac5a5a0007f692406becf84610fddb6691e2b92bd5c7a832f6fd18d57a5ca1fe1a7fc782d84e4cf41f2808d4cadcae2b1e6e7581e566f65fba3251dae5818d5556bc83dbac2d23b12a73b0da80d5fedd2eed43b9e5548ec916f0fee52e24dd445532517bc379bd202ac5e444a7c5b98ae741dd53ba40f7ad9be8b794b0d90d76a7283991e75a40b21a4e80495cfda40c48ef26ff56f99b804fd0d66422be7203755b0d086e791d9db75d54a0542b4171f53f0d2dd1e84b56233bc72a2951a789e693764d4ae70cf0ca93bfc79e74527339413f9405b10d60e8f96cfdf3ad1de171f825521ac97186986da68d0b26b038eec1bcd5640db8f2044e6384416db23d183e5b1bce3110ce5385ec8e1fa903f1c567030199b20fb3181fbe5e79a251582df53be20fd8d7698c32200bc919848b7ad53fcde876012afd19731ee7735b13845f3520c50669b08503eabf2676451e3ad8e7885530ec66d13cb992823138eb5461d7813a0afc93f4a73007efb919791015554df066661839ddea3a212cfb6524361e6b78654cc9402ed79e13fcbd0d1601e24ad6bbae0ca4f2da7c4dd4323ea09085da2641cb576ced4d44e362d7185d4136e7a4ed7510616a59b506f257f0ddb01946c0bd06e6ed488b315198438a789336dc05ef84d89bdb408ec93bd62f389ffe18bdcbf7c70ee395b7f1118769cfba73da73eb964821240460214b0714073505b400c4256ec0309e25fd22e8899f31d93f3fc4b4fc548fb7ee8fb619ad54618eaeb951765c147b3c5ee1fa137f8e2a93aa8d7fe771646316580c0aa49bf45cfc947d271680f1307d0268b7c504d8d38cb0ccad8f5456cb24bb9cc4d3fecf7df17919cc16d90aa610e66709bde9e8fa347ff5ac23b598f7bbe070db1e3519831dc653c5001e0f29ad9e7cbfebd3a3fbb124489dfa67ac7fdb0706b57c2957d6d3719b09a2bbcc8240adf76dd5fc9c1e47ca5889bf6394bef4abb965955b79f70b41c25ffa02c1830c1e1dac23c79e0f1f3d3e0cf5bd6f8e8209ba59f971af84d8dfb793980193cc89bfc24a5f8db9ca44b0ac507713c51551add94225e43e4d61f3724ee6cb54a85d21aca79220e102b5ea12b0fe682a6a4a0ae37f7f4a46fd913b263cfdf9988b9ae648a7c0d7cef92a76058280280b4c018e45fc274b10aa3d32858bc2fbd1b06984ea9b4bea0e8b7a6d435dd04ce09272ee0c5709b2199954012f460f8f5c3f4fe7fb380b11f0e7cd72caaf11b31ab5800f8935a6718a6eb6020a24dd0f41f948da072c33003980cfb153df62db0243c90528d0b560c41590ed429cbf230d5c15545be42e5fce280d1259ce7799462551f0bc844bace80db769349e96e71d65fde86f4a06cc8a6b83fc1b3811885f42e8510f9a4224d40f2f211752a1a4f6a867c5f928265c00d6febd8d81c280c9526caf17188cdcaa7f37b161e726186dd55da7d70a46b46d786a769ea655ca7c118c2c88c36fbf7833bb3de30e6280ad1c585df8b8d4bfa7b68fc127afbc60baba920f789338ed7595b4e68b88a32f020a104406c32ef0fc208ca280d5f861968143d399b464f7f619d28020b78588b0d7a9fdf11325bf479c68d0cbf0e96e10ac6222ca48358abab6eee60f168011756231bfc44cd4e6fc4413aeeda44bdae975e600be9f1bb46163ee85b0d4dbc50a6e4a7009d349cba233d2eba6a4e575d35e7c61362d40c1023c526369c1ddb55a6cf5bd7e900881962490aedddf0698006f1a45bc14f3bf2975906d337529b076ff2db7fecf3ed29fc738e14a079adf3653a73576c994ad63f5129a93722c711644c281bde48825f41a7558a8a89bc4770ffc4657b6a34f920d6ec846f6c185df87236a2f0d7eb95028ea7a92e06d6c79e509654430e4daf0064281b37a52f82f04f7f392bb3c7efdcd72fdd6de51943d2287ca768418d985705f1367279cfaa54e7f0ff5168de520c855c614b8b71ad8f9b5682d332004c08d42a5be56bc7d5d9f98d0f3b59da7018256b9b5dcd073165c7b01699442d99cec666840db8ced04f04f4cdf413d56ab43ad180625fd28c657b229433ef1d4057712410d791ddf5e64aacc199056fa3350adf2a26becf99ab994ee78a1af6f9c8f663d63479616fdd40a6ffb853c8456a6db2e844e92d8e3b8fa6825a2758906758d071288c065f6fc802c9969ab59f91f087f5d04e336654ff21e50f4364684c256eb8097c628fb1802bb32d2d0b1192a2f4fbb8d879a2350f6399bd2b975b1e9928006c9ae211b40e00264b7c99a93199768cada26a7850698adf802fc707a32c334a979522581e7842f49d2775cd87eb7619050d735d2cce2d574e9ac693c1ccc623ef0eae42b74bb6f3a412b0b9da6c51dc46be05bbd78cb62586b8d2c1be70b0a3224f5412472f29c66afb254754046bf1f3fe68c62c299bc6575667c5be019702ec540bc4ff7fb1eb35b9bfd1c273a6a66e3bdf2f3213a2efe17f6ce8373e52dd5529477a57b7448a1d7cf35db936beebf3ec485e683a732fe9b018d0be7e4412282a86aa1d13e3988195ef30064a22a3c04bb478c6b42ad64fe1c51575e9b2e26501943dba3d1904166302c4bab583c9a35d7870ae2c56ef67af265bdeb61ebb870c358dca917fb6aa474ac800f8472ed8049e2ad7d7bc077d23dbd9de25190ce6956ff528c5f2127673431a91da0d925aa0aefcb17b693f8f9cbd194e494de977032a3380467912dafaf5e6b88837feb11656c06cb7871b4c12e6b3296cdc22a307ca3fdb71f1eaba6cce8c75a24153761b63c1e8fea52ef1361fa96f7c4fed4101bd47bc2d43549802eb232212ca4a1b43e9a8dfa70346fab8b3f803a8131b2c00d6f93d8bc7724360d9803a75d6b5a4826822b56b080b5fda8f14d54adb982cd8d1af50f0e69910a913121c59caa1840528aa084a5cfdd6688f498e406372183a8f4942ff60153b93693784d2e5f1e73b972f89737aa3fd5d36b1cb35a1a9f646131e8d7a1e38fc59e73149294f9c897a73645937a1700be76f8f8a865b6cf44b305b7f2777eb9570a6b95dedecf7db16cad3d69b5a72d777711336222e14db333d7cc3ed251f0af79bbfdd03dc8a38f3f138090b350fb5d545b6e9778c625ca0346d6c8d43fefa29984c75fee098f30b2cd1f0bf6abdccc3830ace3842d5237c7dc35c611553ecf684e0a641b3bd9f347103e21fc811cac5d38d4bc9f0ec2e18e43a54843532f6c8b3b22beda6a900ea3f131d457f87c78536b60450bf54d3eea6e597d6e25697407c251f4d61e0ee134a5e63d53df0263fa4fe370e658c306b7d6301a80febdbcedc4a4eccbf1c5d898387e39033710a28ffab80162cb44e17c8fd2ede91f9ac59f5e400e32bbd09ea7912962e3e2f932c7e01a8656b94626d08dbdbc34954a4e3addebd5f68f6a36d62ce97200b9022abd43bb86d4c991c7a65848b0376fce94dddfffe74edcd89d8d14a8103f678aee0ffed6c7828f03107a920839c12a8438c7d49ae3d9a3e36ae41baab86d89ee59351f1e47bf49851a7adaf369b53e4eaea31331673d3b9e0dcee52884e0da609b22b835afa54a3ce1f3071718b28de509b82e944ac47e5afbaaf9a8da0f8355312dabb8a5bcb93e5eb3420cda3de927cce551122189c8397b429a3cb3ef44b64b925584f1973172604f099d3bf1af3248158a8a47c31ad1fe59c69611c17f45ce77a6758a3c8e36dcbce50a612ac276902786601db1a12d0356096f2310f64e73cf934ee1d25d5f13ae07296a47221e9b8b6310227f4c89a2daeff9b60aa69116625e0eb8a41036fa7726dfdb03474efeafdd62dc53db59dbc2d467114670d1762787faeecaad55f79d00ee0b883eca6bb1186e607abae6acfbb24c44d283b44fb00bcaab9a427b5218d94bb6644e7b993ac573303ae225d1f069443d9d27ad3b8df632a7545910c076dbe6b091647d39bd33dd5d454534dedb3221442c02734f1d41b2fdde9684d462f3c34cf1d01ddc1e6685cceb66a0950891c04c2855ed8def9100a15f0caa9c1ed924e513fcdf4eed4242a11adaa9115357ac832b2e83440295dbfc928f9892b4212858d6f03925a95f152936189ea101c049911cbc67c32a1fdf74a51c223efd8263a9d749ce42b48e47652483cb9ae23ebb3baf8366f692ec031a2201d8bedb0795e776b1d28d156985dc711b837192d3bff8ae6f7efe3063a181875f973651746d2ed6f35e766458adab299654557910a5e87cfc9357d21ebb7b877a36978ef3d654e5272d8a45fec1a344bef333d757d79747c6208109de633ec1a97dd45c2e5b7255c760c10ec1ccba054ee26caef2cea316c7bd417d71b6f260cd0772e0a67f6ac5dca2c52060280499c1b06c208f9ec403613a498eecc0b9e677e7da21b5f475dffc20b90d9213adda6e30cf5cfbbf6bfb55d6d63048ee3d4a85192000a67188b75493c780f79b52b0f3e353c7435b9f24f1e9ca75c5b163993b8b904c740bcd168e0c95b118cc419d71f361796ec84de4a99a0ab10b15ad637cddedd7665fe39b8c8f3a24039af97a79ed63d9fbd754252a3f3fa86dee2de277be42d5b873b69dd0ce153837217687e173c84f8166cb1d8e8da1899abdded9d2a1de86471d1fab61302864e48769ef64c8d4e655f9aec0adbb361f4cd5d75aa5b6781ae44a23970dd9c8cb4d58be371661ba20088dbb19c55318d5ad6d59c5ff97a57ce5d1b6ef9300a0198d47af6868062e6c03a773ee1dbd565301d4a2dcbdc6fd1b474424e210fe540ed0770b626b6bffd7c9dc2e3ee0e26ec717b92ef94a3a11471e81ea05d879fdd0cbb11f85b83e4527ea1be62d3ee3990f8d3f9835af5e4625f6a1f4943955b61a3d8923d0be50080b806b62bf2abf002b84de9c4329900a8dea96ab1b1e51ec4c006c1f20f6ff89eccd40ec363fb726b5c65567f1562ab541c37eb18572e9ecfd6cd387755b73fc8062707a0fa4d4a55a34b160282b8802eb485b3c03bfa367e00825a34885d9de107d0ef0cec533e18eea8323c979d9d2317e22978d4c28df78291ce71c9036a300eb0763e86086d3cc1d5d77754c79a57d63f60cae96036650167f5ff2a2666402558b96c172dd84c19bbcec4f5484cd0b1f6426d0b38ca7faa49504fc37b15964f5e5681d9ddc48808125ba99c2f6d81f6a208e535ca7785af8bf2cc17bddfead32cc2904b83a71831efbe0b494c4c17b2b1f2d0a4ff1131867e75ab0d5632ef134e171c6484053d1a3103fe835dfcb0caba952b207202a1e623cdb1ad3a06fcd107a8001db44a491f6b449d89038e567e67a791785d4918584728466f72ca9a640a12b5f43c2ba1ed1f53c69de81f77e532a4876ef05c32503f023e62403f1cef2da9f8825e0d38d775d4f9c877b48f1acf42c0dbdf030bbe1d52a5ec9502081d8ba1948b57d766b8974f22a4bd4efda4bea5c402d045424f4f070a4e86aeab302d15dff4ff0f601b6a47af6dd1721d43b7329eb0b4e81efb71a057bedc5b6d2d97723dc160ac21c33c28962c2a6d3b318bab7b1f424d59bf182ff34042ea25b6a7cf3aec1eb31542dfe57623db117ede6d623bfbb4ce41f8409c2f6ca0c5f62579ece6c2eb667ad3d07f4b5456779084a203eb9ab2a4189932b3f3883fba059bb8d229e27fd7a924b8cac7d99b21c2f59a85a81ce41fb34cbf2bf71e256f7541612da73461964878aa17098b3b7c536e9056f278d4fb1f48bd58a56f97bdfb11b94fe963a1c1322b258b36cbc1a2bb77940ac6245358b87e454ee6cf949ceba22f1d9c9aa33ae87bd086123a640799f177c070128a47a9d12115af3605a3a0d53344d401e27922458a3b0391920e0f5668824d4cb231ceaa7cac30fcff1e68967c86fbf92b185976b3335505372bcf470cb0de6d263979ee842611d79d734e1daf04e50a046a0aa029f075b66b2fbba1119e606753add3b719668f8465b2fc6495fdd9f8da871f7ca19bdccfac143aa7ff0af768346c9452ffd8832d6132129c7443548e34db07918fd8e02da77c868ef502c270fa0e5195d25741fad66d0b8c52e8a94d2d40e998722ce0d8eb708b77783df9e3bfb3bdbe143da222277df209991e1a3105a5f4a97ead176b282614a256750f9206c2846054c5b378d0f4b63b76ce280f5bc205428916ae5854216a10ae6d812a571e2087db9befab5ca449b3576baf2eb654a16c0ce8883c4f443ba4a5e426af1fa0a2ab690d46f0fcf319d2e892dac414e6bed3a6833f3124f0dd3358d7c4dc6f743da68d6c1bb7a56ba934a7027d704cb2b550274ac2e0652e0e9849c7a1d451747d291d1a2bf1fe5cadc988179e272a816e3fad5b5a691eb82cb27a87895fee4aa1d92098c6bc90b6975c56c724531ba96bebe870e12b506778f80199cbe2fa7d94f2c8bcf04669cfa5872b868ca4afe0b4dbcc8818ec7b637e4f9f4ed0d53ada0377a64f262bed170577602e6581971bec71781ec4920a8775f9ec8a2b420967ba8b6d55b77b145bd8bec045d6907eaa4cd579a4977cd033434385912a6034cbeb44a6677c21b7fe2b54843815e8637d478413ee77e00b47bd468c1ca710d1d49a34e4740072eda85c3b8f4e857da9b195cf07e7d9222b0b8469ab5effa429290398780107e7d5dc68f3ec0ee633174387796e7ef92f562b77f9760f27b3ac42d00664162a66992fae36fb591e0a589e0d7e537135fe1fe556f4a1f5a374c3f9739f84b5293fdfc5bd115fbb45382b6bc9993fde5ae3d67319ec54b93d34ee7059977464c02c8de388b068e20481b715ef16e885554f1dcd4a2f53dedf0560cdeb1601bd651b8ad010f236f50638c33e5d631f95cecd0a2e6acd1b16db7beac09930ad4052c1fd7fb0a545ad5c3a13a0cc71fe4664c937e5ffbedb184efaa90625c38097036bb5f076d53e9989c05a595e9004f8a5b5f5578757e328b2f8c591dace401be4ceb42ecf1cc0113d70bb340e07c54116b44cb4d0d3e339f208613b65858748943b7190ae6a97c47c7c8f7db8360018cdacea9ba09a7afb5c02ce7d3b8ceb9ceb24352e586f7eea26fd94823cc87f46c20e4b61beb692b22ee0c6409fadf7f954bf2de12254c5f2d33f4a12a63e2c3e133f3877ae7a186d4e1926316618d5717c7d459f533524e916efa5894d7c5591ff826274fc28eabbf152ca4f2d920e16ef81e19e7c67b94b3c384190a96ccf1bb888bf479e18de286eedc7c987616e884e99fc0f4aca6b6da968811d4425eb0ad7409ac733267d50a745e0a31744721442dfe7ea3b4c302deeb8a44b5edb25c0f17694264f5bc7c0d82932b4a3613379f8a861e33341464fd0c1bc603d9f5bfc7dc4c771c06e30300d4fefb7b2c4224fabc39c783562aeadd99fa669154e7098a48905c8500ddba7f8018b96878f378df935788c21bf26b0572d4fab49fdbc47f08050ef40ff79023c24dd6e3bc14415238d4d572c5253c0b2982050b97ca566e2703d5aa9580ab8c73b1ecbe7d9aa1b78fea57f32b308511b723613383a4e42ec4d164a120a24b0e0219a5539942e18c09b693945a89624f8b9f7020255a3c70b365b8ed14dbcad93e3a7092924648482074e9e2e8b686d6ea8bd35e2148bd9302037092740fe138b3215ec572c27335109babd0cba38dc3b4dca208c8f760284ec2a1eb6a39325c3f22e9b2125abed42dffe2276f3cb71de12fc7e0badded6e8139b62392b96231c9b135f1348e8469f0faeb4fe8cb94a9d908225175cd75922fafd1f64bf355cd31f5ba00a70c432d19a9b4919cec365f9c594291ba6512acdf6b19850806b9fe63bccf2ae5768ad9abfaabf13b95ad080f2bb789bea7c38038e4f8cc82bd4204933248e2cb64a6119a0a42e683025248a3e920f0d5639090ac9ba007440aeabf0280a2201b9c1dcd570bf1f14a90ab751a7e5b212cdfe56e541691db8802f38f5f645bff41fbb9eba71e8913673ba762ecb8cd526d6c83e063bf74082a15ab52b0a5d80dc1758c4680456b768a62d93c304edf312fb567b50f5c143eb5466b03d20b137459bdb80ba5e492830f90ff8f8f69209ba42099dd3ef04ff8d5c0fca3aaf83bc8b23b0e6ff1277be71e2a03f74ecf228ee4cf024a9a7e430756e10c0c113df8f552fe8419dfb727cdfcd0d3730a8d9414182042421d42172eee446f5ac991e0742701f3e0a5bc3f4a231bcf59f01f07048aecd346f1214be8b5e4ed226cb3c9a0a2a9e01e47e288b9d90d6f809f541fe22c6be9ce933b026913e9c3e7e9535be523cab74462eab85effcaccf4acf752be2688a7c648aa604481de89741cba4e8cd4958782bd7cbfdb078a8ff266dccdcde433aea9d31e3b146034d0cb97b3086ae4e7a881038fdda824f81334c03b4acd601510be064c97b7b749109aec04e5aa194aacce5d1a3534aa34f4f64db5572a447c8fef8513186f05798baaf3837231e391c5e939639e1d87354ad831cef311acabf35e9c497a7d06328a430904c7bc2ece0ddeb36ecea00320cce70a45a606cbc249f454c91df25f649310d971acf33da631ccc489046a3ff806cfa026359b0ab502cca26511ae84ca2e124c305fa55131a941c5fee50b1255dea31056f8e26a75d07847c812054e6118c8f8efa3c47ae9ae6b4ee68d89a56e29f4e70d79e00b0996e4b487e0767c79a729686ea499b63acd2930328a55977d4aba3c27029a558d0a1f110208bfbc26ec4445549b90c997944ff7436e09aabfbecd020760ebae197a1fb5a4e1f0f93a5e0eb737605cbfd3b2eb90ade1eb75d953ddb2b6b7e6673d426439378eceddfd48d6191e59cf4f29221a8d66d38c9028b2e6962fb816be59d7736a4657e147fa5b4f572562edd5d2529012f52c92fd22862bd910d960401ef585d5461fe66d9ff99a5898b5f83f7b007576f45fe0e0fa2002b34d135df779b6ae9cac7db79526a643d2181ac1a60cda045dfd656272c5b816891e6dcd61b0c9928286059abdcd74d44a72957be07ab42183c742e8f854d69e7f5b3d8cb5ea913038fba2dbd30dee5cdb9c2497cecaf64ac350fc01cd69b19da26d1a342e91ad2c36bea6163a00a7948658d0f55fdb30ece49b341109f343c3a10551c80bf0860833e24623bc8b9a8601641b1c629964839119958c7e05d859360e5eb2c91cbf67369d13bacce273c9f4a0503f3db2530483d6c50308f5d583caa6da6f9065b28fed3ecf3421204c5150e6f63458d8d74e694e5120fc51d82e4a54d1745a1fef5bf0e58cd08e4e08116a536351de2d533945a7bb81cbb09bf3e38dd502b57309bddb1b538835307dfb7d006d103f0343b75ab973f8cb35136359ddfc27889fd4d30f470e1448085dd99dbc98311ee8a2f845409e741581191e0101ec56f28d46b47a9114df4b2b5ba3a572bbc8dba1f80ca857a9a8a66eac1b4a8bb28a47783b0f3f140c0565a75392e90246e0f6d9ee0f132d8f9648c198b893470a621fe89993f9b2eaf783d3482b759f8d0be266d94724f2dc5ae8ab776954c2489d2d5c6e7fb753b5eae9f86061518a465943aea8a8b964c69c9230322d04b2e9c1ac3cee50652768c51b65aba3f237bf41ceff11c0d1085652a136ebb926c2068efc7fa390c0930f95d0832f769f9fc44e1acd7787f08cc70b6fee93dd6649124532d2859c2d1d3d0bcbdddb0229fdc6f82987819f3ee99eebb7c31593934396372fbd4b29b88af53d55f837f6f8ec0b565d7ca118f7c72891c9a5935977a28fec411ec42facc91f9a6dcfdb54c445726f4fe9c636f8e700a2c1a8a7af5265d9277176ce13af41286aa97d9bdcfa884735336705011041a0ca1a31330da5b0e399d27bfa0ee287c2369417e4e7f1a3e3e312832081ce99850910b76c44c10748ee3bc36dc8006987861c3b674c78fdb90f7c524170687f05a04869e82971716683b5a8afa2b10e9d4b0f5577d2d47a96407211a6e67918e410df2fb7a41d6944552b846879239d8b0d27d96254cc67e622e447060b671fdae7de2ee1403844414f0474356a2f0e68054b9d82507edd494f24ce56c05cf9fa25658ce5a3e0f1b16e23d948683f02730506a01c92ca287901d19732677398bd2591f53c5779337666e9097d7903d3b5ba04423872d4eab0c0781734bfc795e6cacdb697500bd899e519e3a55ab7d29e75e4348dd83ce10ec1aa60c102b58344b7592b803d921c6d25a1f32a970d3d1942d52319bb3558117b5581e321d1422e7de41d63232a937d022f0f08a6b969b547d2e853205073b7380ab9dfca7dc38bc5ba83fdc0f7e735b132efce5b2dce5cbb1f0fdbb9f3f1549488ab0fc298b686b760f94601960ba75c369a36b3fdaaf7cd8b037a20edc1aa88ff90a07fa20b5befd8dcab4bf82644b1be377a5555b0108f1a7ab239cff45b63438ecdb171d88d9c9efb5f27beaeef6de2949bcff3397ea5eec06b372fb74155d7426a24936613e34314fa0bccc4dc6b3eaa180f2a57b7058277ed199b389a9495a162b1daf797a48df81dab119d4c446cae329499b560b4802269896062f1973478298b9e2625b8cbfe248d168f1ea44ce2dc60521f1a499e7118b8945010858dee2906a648ba86e7fde3a29a62cecc1926f235c8af08a244769a78fd338aa023a53e7e82ca21a81dce7d9b99d3ce522d2b11dc079f1c158e468c46948c0b72eb6e88ee6a34ec2bca393f161484f3201966f399ef944e8eef220273c365a9e5f8013537629e52d2f575e9b2e89f7828087bf8f5b64115d3a9096e5fc302b7304a3ba4fd9230c4c7f9b3dadc1c6a2fa67276a44bad3522e6a89e2cae78acf3962ca66a151140ed662ddfdf75d64bbad711a3100c55227f5404fc70e5372478aee78c683074c76377cc89c6adcdef1094a9476dac3a63717114d9fbc897e07dc46563831bc2f997670caa1ab433d15688e6eade8e428412de00506991e130cc013b075af7504f61076dee5809ea1cf277fa614d28d7f3935720af753e0da1f6eb1bc336cb954b6e0918cd39d01855ff69a613afc1e9f704d3c7d9a99a00648d5c349c56c470629bc262f2d1fb2f66cf0308521162d66b36b3956d445a6fc6534f2a67844c34e597f7b850069880dcb11a83f1f6236411fe90909ecac9ea8a55a18ab203f22d1892a09265a98c9f2cc9b46bdd325a54901a9cbd748c9d30503f9e1837181829a049fe6a257c7414e2476c52aaebab508071c86ae2c8f1f72b3eade49091e93b99e0293ea17a7e6be48ed60755d44a5542d9050d770845b769788e2808be176ae08954daa1b099e0da60220c349b28d1778add71dd1601beccc32243fd861a684a8dc7cab1945c32545cb78ba50447df7ae1732e13543c0c273f866b0cdb7db4e4ec6e95571389be07493d06b804e59d839a5c24daab90ef79f41eb3fa7dca8fc5c76cae6b5185cae65f3474435a8f3661b55a7696d83bfe84b1bd0efa3072e208dade45776855896f9b356f96ba67995df5a9f4a039034ff12885f4a94fcef6dd21124a011ef40591b9fdc87ef54c19c3c142e6502807a5ac8e7f8908226c2e2815c76120f4a60c7f1b96580397c0a99af7bbaf3ae881087ba69732f70b2cabdf813d0fe6f630ee27cbe54a4dbca9c5a52195caa296079d6027d4ecf3a9e9584bb0a58ac73f89495f1520776de857f671b078d1938971f16c1df500ab774da4000b57687432534d495154d9b584759a62a915e79ec3eec2de39633a19d4852bead55774450e95d73486f13967f107b2e6c33dc3e373ff9768b58744aad86552c6e332347b098d83fad11cdda22dc6f148cbdf836ec7ec66ec9a663dfd7149685cceeb27635b27a175b1b2a2c12041a5010cdcabde9fd7becf5c7b5d65e940d25d76d444ac28ca049be61f052428300bb1360cd5095eebe78ef53345013528791c6d85950af99c785b69f5422bf5c8a667f73d3ac4eab3e01bd9767681f4288c3de357ac97afb51389469175c861adb4d51c07798edf19a0f16c25f7c49225bb5187f3f7abcb41824c77e39d377ae1e0b3e24816e3f176b69aac5246e557d78685c4e6dbb2b002f86b0f82622b80fb69a714ee3eeb78f5dac81934cb1bc385af7e45f95ae8428644001fdb87f8e25ee00c2988b3b194de424932ba4db51e5e636c41561edc47d537a5c0dbd88fcbd5267e4f4ce2cf14f5f5533245fee2d7b188b058f452e2ec62a8f36ca53c5252e7090d5f0720586c71a2120f99462c370ce992d29e52ae50827f421c78b8d58c47b079edd7ee6a666bd841fff9b6168929b796d83c9b6fec62300159675fe7ee0d356adc8de0f31bcfd1cd31f8f29f7cbc9cdd97f49900ee41cf31ed89da801449f1d1ffd7118a693b07ffd1d00562ff9c2e177e9105dd5f378d11cb8f16f97d20b717c8358783125beceb521ea08229b2956c4b47b0f294f5dae05cb8b97284db7da865683bc36911742b302e15319623f21d8924fc783fa0bb34d6299351c1823c60b68ed4a36e4a459d61bd618bfbad6a778042ce146200597132225b3c43f3a9a53ecc1e872e333edb15f404d4839913d16f8f0c95c082780d21b4c80911c2183b3303dd2465bd080259b0d8cb1c94ee12fb4001386309bf8b572e416fdebf6f43bc1f85f2fb6c0ce491daec8b3538d4e9e607e6cd0b58b048fb2c9ba51156dae5d2b9125d2818f69fd70ef1b2e604120a01136e40ed68e8e9433fcf923af2307f32fc1a25f67c172e373f060e5bfde6a83c7e67882dfa30f927e8c49a3faaa2ddd94f39b2416c1cd5d3d9b2948b4b7b41142d874e50ec1da75347090d92f15803d578b44a75ad7f00710dd67b0ff45ab772701da27cfcf969d8e4757d2b18d2710132e856ca6807d2273972a947f0eaf283ee47203c568eb4c9b0fe5d052c6cdc0c574d50baa9138887fcc1e6598dda1550aad4b57cac508807c27b4214982e3bb9b5367b774803fffcdf8e880dbcb767a53f47f747d2abc7d79938b1d8bacf32406204e86a145ea0e21396f9611f773eb07930272a3160b6737ced4e1998986f1bfb512d0251075c751c38ce5cadc8ea0a3b4af2bd33c024c274d0710890fb05d2bac2f5156b07a9db989f35d754eb80f8a9260f34051377852f36563adab98b4bb6a39071e5b09f30566142c91f0480960687283cece5bbb88ab33a80fc2f0cfaec9bd7fd28e4343181bc7c227fedee8e1c716676d534d904e3e6c34bc47aee307e6f08a0f7e845e601ec517d84608414d9e1b129f48f54bf3dff89600398295f80fc6b00e3f77c4f792ac63785e40cd8992670d07a51709b1a6589596b91b450a1454f04bc274c88f884dcc01efda904ca171b33bba9f37f98c827eab397a6808bdaa9efe1b291b0788de0059cb4ac10bdc84e67a32a12e76c8fe63dc130beb6835b4c9df93c939802190049f3108ff5c7904c856ffc444295a39a0448e4147262c5c7705572525baf9f461fe2cddc6f109a48b390167374bcdd5784a56a82bda8abcdfebf4f97fbf6ea9e9caf52d634c4851b6c5d768820a9d57403e9898334ad8370651e3dffec6014a4b9c61833bc2d39a39f08bfbdd14d619f67ecc89b9c0bfa1c26ff5660b3dceec6578cb7445e6b2558058a3c81a42ebfc475211c40a44cda5e04c54762f003bb209e5a0b2f19f2aedb5d2e756bbcd952a61c7c67edb955ed494b5d6bc54ba96ac7b90a0fd29c3e1825ffb3183afaa81455007f31f9189551a4151473a93e8915a390564df025b6d245358087a9698d646b17c208b1a97eff6f45f21b52850d7b6c88b65298fab7fffd303451f6ba6bf3bbd3795f0699c4619fecd5db529d8449a06b50ee1726a74a2766637d4456e12ca3d8a56d0b94fc6906ac7b12a03d320aafa06d040b3282060a1ab2159f4e72ea2ad94d97c8423a52dad47a1d007a483b5935a6e7078768fe4755f839e8af59c7419d334426a6fd70991e48489750fc4420e075905a71a7eba691f9ab57aafb436bb94702146ad10532cd37dc2f9322261e43f90e3d7a3de444dd9c9f6561bb09e21da4b8a73639036709cc93c3bad5c2658dcb4a64dec642df9204ebce9bb8085e5be240ee321d794c8985d78c9a8639bd5f5bcb99d4b3702a5f64370324f7d95f8d37492a74cb0bcf5d583a664c7101839c200fdd2732fff614411f6365d30c498c1e0fd68276689485a4eb1d345cc88be9bd4335eb88467c039528840e06a8ce285f4bdda0872a3b1ff2aa85ad8cc1c41936837c33db6edfe5f83d9302bb8b6cb4b5e259b81a5c9f79c22288b37e6229f6d653351a55c63c1053f79079a2c3ea4ad48bc7a9b0542b007d08fafe57eced0024044175bcefd0f35fb7bb7d462297f3f9dadd33532b3aa26fb5d4456e607cffafc86a150a01669f71f514c1a9dce56a53bba075826c2c91978136076c65b6a8cb6fe4ccdcd24c0964b8447185447aeaf3717a39db6b1a47df3bb674e51623232b9530d3aaaa24fd7f967afad96468b2bf8f4cbba452f80a893037631cfe7ff56509f2370cdc331ff9e15a3ba372e2afb86d5ba058fc7ac4663eac555d51cd68f152c6dc28f7458664e044c7ecf951ee2d2f8f238457b5416643833e1a9943fde5995293e860d49738985f4b31c4b2f8a3bc759e2e7d3838c1880d5c1aab3a20feb9f13dbdc4d3633f42f6fa4fdc398d41ac2b393ce20ed0c539d881f144ae2d61d95bc4cf342d917ed74fcc0dadb7d53a18174b71cc0b9f3426126eda1b5acfb9a40cf1c67bfd1492538031a75cfc879cd3f8d63abcf6386992594dead4951864163d6506daa01ad9a89a268563f24580c1f623412ec50a0d95e6139af32532dba6668c6689d54982daf6265de0794ca115e3ad46cae6207ed544f228eaef779ff9cb327f171db6247618d88498835868966aaba7c1faedfbb4313b828e1aa0f0b5bc27c4620bc9460ab6b92e001fc7a5e204da882d67d955302cb1af040900bcb89949fa61119d505c37cd69ac5d7080de4b0ab2ebe11bcd1690b8e9d2304bbe8b722a18fe7b87c1348d1b1b0866fe7fb68fdf8c4ce9775554eaa08d4b4b8b0b7cc01d0a2e811be5a0f1f72ab441aa19338bbc3fbc3027ef8e335b31e0d3a5ca62da9c1ad093b3ff517f309e35398d2ab963ab1aca7131f3c61b1edb395cdab10c865c6fc036e90275c1ea7cf0fd4502502eb3b6f70fcbe052e06ade6401538c27a70557b27f9e8e9ec8a35e765a6e3120beac7e9683021a34f2889913499c357969957a0cba29a28e12ee051bef685aa242c0e5711bd9b5989a3bc6aea79f5a01ee9be84b47479f7cc462b6abb623549abac1655b97d4e82549a21c9749bf0ff0701c753a4b065170d48839bbc027f8683b615e268a8456ab3e1127546e93557ae5fbb4bf039440c661a6aa17d0b4e19add3a9c797496ea18cd73c1b450ea35605ccd80c1aa55af4330d08e8ce5336515d0597bb7543f85a290b5b560828a632771af378d72392feabd1d6b29737e14c551c27cc5052a5347de5d47079f1729acf39fb38a0fc87bba50828b8d25d48f8cfc683b637f434cfbb16a5c62aeb6c2743d445bef4c6c4b9f97629c476dcbfd44b2af90b7f13f9daf4d0c194514d804fa5e33fc8a521fdaffd9c878f6257b71035e1b7fd83ab2e8b3fa4d1db8bebc8c8245d0d01744e8a0ebe48eeea33d638396952775b6b28c414e6123ed54afb6d93eac48d3ef71f6e69828d4545d191c32259f3f690bdcbe453bd5c36c62a1944349f1d9ae8f3c09b0fab69013cae0165782d13bd72fc58ff7609a947e6704a4c2741057b68dac67ff52b8af5e6e9c3a88a0ee267df8f0bd9a0d2c8c7f52f24e2f2c3d2beefe6f27670a8d7db36d8f7ebf922d4f4130c3e9757cc9e5ba1089a2ce2cd23e08b774981096900e2b06883db89c793f294624fe346a1479180eaf0473","isRememberEnabled":true,"rememberDurationInDays":0,"staticryptSaltUniqueVariableName":"ab2beec4f19cdcf7b5c909265e03bcab"};

            // you can edit these values to customize some of the behavior of StatiCrypt
            const templateConfig = {
                rememberExpirationKey: "staticrypt_expiration",
                rememberPassphraseKey: "staticrypt_passphrase",
                replaceHtmlCallback: null,
                clearLocalStorageCallback: null,
            };

            // init the staticrypt engine
            const staticrypt = staticryptInitiator.init(staticryptConfig, templateConfig);

            // try to automatically decrypt on load if there is a saved password
            window.onload = async function () {
                const { isSuccessful } = await staticrypt.handleDecryptOnLoad();

                // if we didn't decrypt anything on load, show the password prompt. Otherwise the content has already been
                // replaced, no need to do anything
                if (!isSuccessful) {
                    // hide loading screen
                    document.getElementById("staticrypt_loading").classList.add("hidden");
                    document.getElementById("staticrypt_content").classList.remove("hidden");
                    document.getElementById("staticrypt-password").focus();

                    // show the remember me checkbox
                    if (isRememberEnabled) {
                        document.getElementById("staticrypt-remember-label").classList.remove("hidden");
                    }
                }
            };

            // toggle password visibility
            const toggleIcon = document.querySelector(".staticrypt-toggle-password-visibility");
            // these two icons are coming from FontAwesome
            const imgSrcEyeClosed =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA2NDAgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTM4LjggNS4xQzI4LjQtMy4xIDEzLjMtMS4yIDUuMSA5LjJTLTEuMiAzNC43IDkuMiA0Mi45bDU5MiA0NjRjMTAuNCA4LjIgMjUuNSA2LjMgMzMuNy00LjFzNi4zLTI1LjUtNC4xLTMzLjdMNTI1LjYgMzg2LjdjMzkuNi00MC42IDY2LjQtODYuMSA3OS45LTExOC40YzMuMy03LjkgMy4zLTE2LjcgMC0yNC42Yy0xNC45LTM1LjctNDYuMi04Ny43LTkzLTEzMS4xQzQ2NS41IDY4LjggNDAwLjggMzIgMzIwIDMyYy02OC4yIDAtMTI1IDI2LjMtMTY5LjMgNjAuOEwzOC44IDUuMXpNMjIzLjEgMTQ5LjVDMjQ4LjYgMTI2LjIgMjgyLjcgMTEyIDMyMCAxMTJjNzkuNSAwIDE0NCA2NC41IDE0NCAxNDRjMCAyNC45LTYuMyA0OC4zLTE3LjQgNjguN0w0MDggMjk0LjVjOC40LTE5LjMgMTAuNi00MS40IDQuOC02My4zYy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM2MwIDEwLjItMi40IDE5LjgtNi42IDI4LjNsLTkwLjMtNzAuOHpNMzczIDM4OS45Yy0xNi40IDYuNS0zNC4zIDEwLjEtNTMgMTAuMWMtNzkuNSAwLTE0NC02NC41LTE0NC0xNDRjMC02LjkgLjUtMTMuNiAxLjQtMjAuMkw4My4xIDE2MS41QzYwLjMgMTkxLjIgNDQgMjIwLjggMzQuNSAyNDMuN2MtMy4zIDcuOS0zLjMgMTYuNyAwIDI0LjZjMTQuOSAzNS43IDQ2LjIgODcuNyA5MyAxMzEuMUMxNzQuNSA0NDMuMiAyMzkuMiA0ODAgMzIwIDQ4MGM0Ny44IDAgODkuOS0xMi45IDEyNi4yLTMyLjVMMzczIDM4OS45eiIvPjwvc3ZnPg==";
            const imgSrcEyeOpened =
                "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1NzYgNTEyIj48IS0tIUZvbnQgQXdlc29tZSBGcmVlIDYuNS4yIGJ5IEBmb250YXdlc29tZSAtIGh0dHBzOi8vZm9udGF3ZXNvbWUuY29tIExpY2Vuc2UgLSBodHRwczovL2ZvbnRhd2Vzb21lLmNvbS9saWNlbnNlL2ZyZWUgQ29weXJpZ2h0IDIwMjQgRm9udGljb25zLCBJbmMuLS0+PHBhdGggZD0iTTI4OCAzMmMtODAuOCAwLTE0NS41IDM2LjgtMTkyLjYgODAuNkM0OC42IDE1NiAxNy4zIDIwOCAyLjUgMjQzLjdjLTMuMyA3LjktMy4zIDE2LjcgMCAyNC42QzE3LjMgMzA0IDQ4LjYgMzU2IDk1LjQgMzk5LjRDMTQyLjUgNDQzLjIgMjA3LjIgNDgwIDI4OCA0ODBzMTQ1LjUtMzYuOCAxOTIuNi04MC42YzQ2LjgtNDMuNSA3OC4xLTk1LjQgOTMtMTMxLjFjMy4zLTcuOSAzLjMtMTYuNyAwLTI0LjZjLTE0LjktMzUuNy00Ni4yLTg3LjctOTMtMTMxLjFDNDMzLjUgNjguOCAzNjguOCAzMiAyODggMzJ6TTE0NCAyNTZhMTQ0IDE0NCAwIDEgMSAyODggMCAxNDQgMTQ0IDAgMSAxIC0yODggMHptMTQ0LTY0YzAgMzUuMy0yOC43IDY0LTY0IDY0Yy03LjEgMC0xMy45LTEuMi0yMC4zLTMuM2MtNS41LTEuOC0xMS45IDEuNi0xMS43IDcuNGMuMyA2LjkgMS4zIDEzLjggMy4yIDIwLjdjMTMuNyA1MS4yIDY2LjQgODEuNiAxMTcuNiA2Ny45czgxLjYtNjYuNCA2Ny45LTExNy42Yy0xMS4xLTQxLjUtNDcuOC02OS40LTg4LjYtNzEuMWMtNS44LS4yLTkuMiA2LjEtNy40IDExLjdjMi4xIDYuNCAzLjMgMTMuMiAzLjMgMjAuM3oiLz48L3N2Zz4=";
            toggleIcon.addEventListener("click", function () {
                const passwordInput = document.getElementById("staticrypt-password");
                if (passwordInput.type === "password") {
                    passwordInput.type = "text";
                    toggleIcon.src = imgSrcEyeOpened;
                    toggleIcon.alt = templateToggleAltHide;
                    toggleIcon.title = templateToggleAltHide;
                } else {
                    passwordInput.type = "password";
                    toggleIcon.src = imgSrcEyeClosed;
                    toggleIcon.alt = templateToggleAltShow;
                    toggleIcon.title = templateToggleAltShow;
                }
            });

            // handle password form submission
            document.getElementById("staticrypt-form").addEventListener("submit", async function (e) {
                e.preventDefault();

                const password = document.getElementById("staticrypt-password").value,
                    isRememberChecked = document.getElementById("staticrypt-remember").checked;

                const { isSuccessful } = await staticrypt.handleDecryptionOfPage(password, isRememberChecked);

                if (!isSuccessful) {
                    alert(templateError);
                }
            });
        </script>
    </body>
</html>
